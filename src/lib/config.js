export const PARTS_CONFIG = {
  // ==================== УШИ ====================
  ears: {
    title: "Уши",
    variants: {
      'торчком обычные': {
        label: "Торчком обычные",
        layers: [
          'Уши/торчком обычные/основа',
          'Уши/торчком обычные/контур',
          'Уши/торчком обычные/тени',
          'Уши/торчком обычные/блики',
          'Уши/торчком обычные/[красить]'
        ],
        colorable: '[красить]',
        blendModes: {
          'тени': 'multiply',
          'блики': 'screen'
        }
      },
      'торчком пушистые': {
        label: "Торчком пушистые",
        layers: [
          'Уши/торчком пушистые/основа',
          'Уши/торчком пушистые/текстура',
          'Уши/торчком пушистые/тени',
          'Уши/торчком пушистые/[красить]'
        ],
        colorable: '[красить]'
      },
      'длинные': {
        label: "Длинные заостренные",
        layers: [
          'Уши/длинные/основа',
          'Уши/длинные/контур',
          'Уши/длинные/тени',
          'Уши/длинные/[красить]'
        ],
        colorable: '[красить]'
      },
      'повисшие': {
        label: "Висячие расслабленные",
        layers: [
          'Уши/повисшие/основа',
          'Уши/повисшие/контур',
          'Уши/повисшие/тени',
          'Уши/повисшие/[красить]'
        ],
        colorable: '[красить]'
      }
    }
  },

  // ==================== ГЛАЗА ====================
  eyes: {
    title: "Глаза",
    variants: {
      'лисьи': {
        label: "Лисьи раскосые",
        layers: [
          'Глаза/лисьи/белок',
          'Глаза/лисьи/радужка',
          'Глаза/лисьи/зрачок',
          'Глаза/лисьи/веки',
          'Глаза/лисьи/[красить]',
          'Глаза/лисьи/[белок красить]'
        ],
        colorable: {
          '[красить]': 'eyes',       // Цвет век
          '[белок красить]': 'eyesWhite' // Цвет белков
        },
        blendModes: {
          'радужка': 'overlay',
          'тени': 'multiply'
        }
      },
      'обычные': {
        label: "Обычные круглые",
        layers: [
          'Глаза/обычные/белок',
          'Глаза/обычные/радужка',
          'Глаза/обычные/зрачок',
          'Глаза/обычные/веки',
          'Глаза/обычные/[красить]',
          'Глаза/обычные/[белок красить]'
        ],
        colorable: {
          '[красить]': 'eyes',
          '[белок красить]': 'eyesWhite'
        }
      }
    }
  },

  // ==================== РЕСНИЦЫ ====================
  lashes: {
    title: "Ресницы",
    dependsOn: {  // Показывать только при выборе обычных глаз
      part: 'eyes',
      variant: 'обычные'
    },
    variants: {
      'с ресницами': {
        label: "С густыми ресницами",
        layers: [
          'Глаза/ресницы/верхние',
          'Глаза/ресницы/нижние'
        ],
        blendModes: {
          'верхние': 'multiply',
          'нижние': 'soft-light'
        }
      },
      'без ресниц': {
        label: "Без ресниц",
        layers: [] // Нет слоев
      }
    }
  },

  // ==================== ЩЁКИ ====================
  cheeks: {
    title: "Щёки",
    variants: {
      'пушистые': {
        label: "Пушистые щёчки",
        layers: [
          'Щёки/пушистые/основа',
          'Щёки/пушистые/текстура',
          'Щёки/пушистые/румянец',
          'Щёки/пушистые/[красить]'
        ],
        colorable: '[красить]',
        blendModes: {
          'румянец': 'overlay'
        }
      },
      'нет': {
        label: "Без щёк",
        layers: [] // Скрывает элемент
      }
    }
  },

  // ==================== ГРИВА ====================
  mane: {
    title: "Грива",
    variants: {
      'пышная': {
        label: "Пышная грива",
        layers: [
          'Грива/пышная/основа',
          'Грива/пышная/контур',
          'Грива/пышная/тени',
          'Грива/пышная/свет',
          'Грива/пышная/[красить]'
        ],
        colorable: '[красить]'
      },
      'обычная': {
        label: "Обычная грива",
        layers: [
          'Грива/обычная/основа',
          'Грива/обычная/контур',
          'Грива/обычная/[красить]'
        ],
        colorable: '[красить]'
      }
    }
  },

  // ==================== ТЕЛО ====================
  body: {
    title: "Тело",
    variants: {
      'v1': {
        label: "Обычное тело",
        layers: [
          'Тело/v1/основа',
          'Тело/v1/контур',
          'Тело/v1/тени',
          'Тело/v1/[красить]'
        ],
        colorable: '[красить]'
      },
      'v2': {
        label: "Мускулистое тело",
        layers: [
          'Тело/v2/основа',
          'Тело/v2/мускулы',
          'Тело/v2/тени',
          'Тело/v2/[красить]'
        ],
        colorable: '[красить]'
      }
    }
  },

  // ==================== ХВОСТ ====================
  tail: {
    title: "Хвост",
    variants: {
      'обычный': {
        label: "Обычный хвост",
        layers: [
          'Хвост/обычный/основа',
          'Хвост/обычный/контур',
          'Хвост/обычный/[красить]'
        ],
        colorable: '[красить]'
      },
      'пушистый': {
        label: "Пушистый хвост",
        layers: [
          'Хвост/пушистый/основа',
          'Хвост/пушистый/текстура',
          'Хвост/пушистый/[красить]'
        ],
        colorable: '[красить]'
      }
    }
  }
};

/**
 * Настройки персонажа по умолчанию
 */
export const DEFAULT_CHARACTER = {
  // Выбранные варианты
  ears: 'торчком обычные',
  eyes: { type: 'обычные', subtype: 'с ресницами' },
  cheeks: 'пушистые',
  mane: 'пышная',
  body: 'v1',
  tail: 'обычный',
  
  // Цветовые настройки
  colors: {
    main: '#f1ece4',     // Основной цвет
    eyesWhite: '#ffffff'  // Цвет белков глаз
  },
  
  // Цвета отдельных частей (переопределяют основной)
  partColors: {
    ears: '#f1ece4',
    eyes: '#8b4513',     // Карий
    cheeks: '#ffcccb',   // Легкий румянец
    mane: '#f1ece4',
    body: '#f1ece4',
    tail: '#f1ece4'
  }
};

/**
 * Порядок отрисовки слоев (от нижнего к верхнему)
 */
export const RENDER_ORDER = [
  'tail',    // Хвост (нижний слой)
  'body',    // Тело
  'mane',    // Грива
  'ears',    // Уши
  'cheeks',  // Щёки
  'eyes',    // Глаза
  'lashes'   // Ресницы (верхний слой)
];

/**
 * Дополнительные настройки экспорта
 */
export const EXPORT_SETTINGS = {
  defaultSize: { width: 315, height: 315 }, // Размер PSD
  quality: 90,                              // Качество PNG
  bleed: 5                                  // Отступы при экспорте
};
